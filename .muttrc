# Based on http://www.bartbania.com/index.php/consolify-your-gmail-with-mutt/

source ~/Dropbox/sec/auth
source ~/.mutt/mutt-colors-solarized-dark-16.muttrc

set locale = "ru_RU.UTF-8"
set from = $my_adress
set realname = $my_realname
set imap_user = $my_adress
set imap_pass = $my_pass

# Remote Gmail folders
set folder = $my_folder
set spoolfile = "+INBOX"
set postponed ="+[Google Mail]/Drafts"
# set trash = "+[Google Mail]/Trash"
# set any_label = "+[Google Mail]/any_label"

# Local folders for cached headers and certificates
set header_cache ="~/.mutt/cache/headers"
set message_cachedir ="~/.mutt/cache/bodies"
set certificate_file ="~/.mutt/certificates"

# SMTP settings
set smtp_url = $my_smtp_url
set smtp_pass = $my_pass # use the same passowrd as for IMAP

# Fixes the 'No authenticators available' error
set smtp_authenticators = 'gssapi:login'

# Securing
#set move = noÂ  #Stop asking to "move read messages to mbox"!
set imap_keepalive = 900

# Email check
set timeout=10    # mutt 'presses' (like) a key for you (while you're idle) 
                  # each x sec to trigger the thing below
set mail_check=5  # mutt checks for new mails on every keystroke
                  # but not more often then once in 5 seconds
set beep_new      # beep on new messages in the mailboxes

# Other settings
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'

# Key bindings
bind generic,index Q exit
bind editor <space> noop
bind editor <Tab> complete-query

bind browser gg  top-page
bind browser G   bottom-page
bind browser \Cb previous-page
bind browser \Cf next-page
bind browser A   check-new
bind browser v   view-file

bind index ~   set-flag
bind index \Cv what-key
bind index H   current-top
bind index M   current-middle
bind index L   current-bottom
bind index /   search
bind index :   enter-command
bind index i   mail

bind pager i   edit
bind pager u   mark-as-new
bind pager gg  top
bind pager G   bottom
bind pager j   next-line
bind pager k   previous-line

bind index,attach gg  first-entry
bind index,attach G   last-entry

bind index,pager L   list-reply
# bind index,pager P   print-message
bind index,pager R   group-reply
bind index,pager \Cd half-down
bind index,pager \Cu half-up
bind index,pager \Cf next-page
bind index,pager \Cb previous-page
bind index,pager \Cn next-thread
bind index,pager \Cp previous-thread

bind index,pager f forward-message
bind index,pager p previous-undeleted
bind index,pager N next-unread
bind index,pager P previous-unread

bind index,pager X print-message
